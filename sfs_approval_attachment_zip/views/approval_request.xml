<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_approval_request_form_inherit" model="ir.ui.view">
        <field name="name">approval.request.form.inherit.reason</field>
        <field name="model">approval.request</field>
        <field name="inherit_id" ref="approvals.approval_request_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//page[@name='description']/field[@name='reason']" position="attributes">
                <attribute name="readonly">request_status in ['approved']</attribute>
            </xpath>
            <xpath expr="//page[@name='approvers']" position="after">
                <page string="Merge Attachments">
                    <group string="Merge Attachments"></group>
                    <field name="merge_approval_attachment_ids">
                        <list editable="bottom">
                            <field name="sequence" widget="handle"/>
                            <field name="approval_request_id" column_invisible="True"/>
                            <field name="attachment_id"/>
                        </list>
                    </field>
                    <button colspan="2" name="merge_approval_attachment" string="Merge Attachments" type="object"/>
                </page>
            </xpath>
        </field>
    </record>
</odoo>
